import{d as e,z as a,a$ as t,G as s,c as r,J as l,o as u,g as o,e as i,f as c,w as m,x as d,l as n,t as p,b as f,F as _,b0 as g,ae as y,r as x,a as h,Q as v,p as b}from"./index.542c0454.js";import{_ as w}from"./page-meta.02c7e812.js";import{_ as j}from"./u-empty.92b0101b.js";import{_ as k}from"./u-image.5a5c5429.js";import{_ as O}from"./u-button.6ec9da2b.js";import{g as R,_ as A}from"./pay.ce6f6a89.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-icon.f8d3787b.js";import"./u-loading.1a8e4634.js";var E=C(e({__name:"payment_result",setup(e){const C={succeed:{text:"支付成功",image:"/static/images/payment/icon_succeed.png"},waiting:{text:"等待支付",image:"/static/images/payment/icon_waiting.png"}},E=a(t.LOADING),G=a({id:"",from:""}),I=s({order:{}}),L=r((()=>{const e=!!I.pay_status;return C[e?"succeed":"waiting"]})),N=()=>{g({url:"/pages/index/index"})},$=()=>{if("recharge"===G.value.from)y({url:"/packages/pages/recharge/recharge"})};return l((async e=>{try{if(!e.id)throw new Error("订单不存在");G.value=e,await new Promise(((e,a)=>{R({order_id:G.value.id,from:G.value.from}).then((a=>{Object.assign(I,a),e(a)})).catch((e=>{a(e)}))})),E.value=t.NORMAL}catch(a){console.log(a),E.value=t.ERROR}})),(e,a)=>{const t=x(h("page-meta"),w),s=x(h("u-empty"),j),r=x(h("u-image"),k),l=v,g=b,y=x(h("u-button"),O),R=x(h("page-status"),A);return u(),o(_,null,[i(t,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),c(" 页面状态 "),i(R,{status:E.value},{error:m((()=>[i(s,{text:"订单不存在",mode:"order"})])),default:m((()=>[i(g,{class:"payment-result p-[20rpx]"},{default:m((()=>[i(g,{class:"result bg-white p-[20rpx] rounded-md"},{default:m((()=>[i(g,{class:"flex flex-col items-center my-[40rpx]"},{default:m((()=>[c(" 支付状态图片 "),i(r,{class:"status-image",src:d(L).image,width:"100",height:"100",shape:"circle"},null,8,["src"]),c(" 支付状态文字 "),i(l,{class:"text-2xl font-medium mt-[20rpx]"},{default:m((()=>[n(p(d(L).text),1)])),_:1}),i(g,{class:"text-3xl font-medium mt-[20rpx]"},{default:m((()=>[n(" ¥ "+p(I.order.order_amount),1)])),_:1})])),_:1}),c(" 支付信息 "),i(g,{class:"result-info"},{default:m((()=>[i(g,{class:"result-info__item"},{default:m((()=>[i(l,null,{default:m((()=>[n("订单编号")])),_:1}),i(l,null,{default:m((()=>[n(p(I.order.order_sn),1)])),_:1})])),_:1}),i(g,{class:"result-info__item"},{default:m((()=>[i(l,null,{default:m((()=>[n("付款时间")])),_:1}),i(l,null,{default:m((()=>[n(p(I.order.pay_time),1)])),_:1})])),_:1}),i(g,{class:"result-info__item"},{default:m((()=>[i(l,null,{default:m((()=>[n("支付方式")])),_:1}),I.pay_status?(u(),f(l,{key:0},{default:m((()=>[n(p(I.order.pay_way||"-"),1)])),_:1})):(u(),f(l,{key:1},{default:m((()=>[n("未支付")])),_:1}))])),_:1})])),_:1})])),_:1}),i(g,{class:"mt-[40rpx]"},{default:m((()=>[i(g,{class:"mb-[20rpx]"},{default:m((()=>["recharge"==G.value.from?(u(),f(y,{key:0,type:"primary",shape:"circle","hover-class":"none",onClick:$},{default:m((()=>[n(" 继续充值 ")])),_:1})):c("v-if",!0)])),_:1}),i(g,{class:"mb-[20rpx]"},{default:m((()=>[i(y,{type:"primary",plain:"",shape:"circle","hover-class":"none",onClick:N},{default:m((()=>[n(" 返回首页 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["status"])],64)}}}),[["__scopeId","data-v-4922923c"]]);export{E as default};
