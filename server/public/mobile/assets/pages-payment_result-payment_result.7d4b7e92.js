import{_ as e}from"./page-meta.27f77783.js";import{d as a,z as t,a$ as s,G as r,c as l,I as u,o as i,g as o,e as c,f as d,w as m,x as n,l as p,t as f,b as _,F as g,v as y,r as x,a as h,P as v,p as b}from"./index.29acdabd.js";import{_ as w}from"./u-empty.e06b8168.js";import{_ as j}from"./u-image.9343e56d.js";import{_ as k}from"./u-button.f1d84ef1.js";import{g as O,_ as R}from"./pay.71438a9d.js";import{_ as I}from"./plugin-vue_export-helper.21dcd24c.js";import"./u-icon.fce5c7bf.js";import"./u-loading.d63ce267.js";var L=I(a({__name:"payment_result",setup(a){const I=y(),L={succeed:{text:"支付成功",image:"/static/images/payment/icon_succeed.png"},waiting:{text:"等待支付",image:"/static/images/payment/icon_waiting.png"}},A=t(s.LOADING),C=t({id:"",from:""}),E=r({order:{}}),G=l((()=>{const e=!!E.pay_status;return L[e?"succeed":"waiting"]})),N=()=>{I.reLaunch("/pages/index/index")},P=()=>{if("recharge"===C.value.from)I.navigateBack()};return u((async e=>{try{if(!e.id)throw new Error("订单不存在");C.value=e,await new Promise(((e,a)=>{O({order_id:C.value.id,from:C.value.from}).then((a=>{Object.assign(E,a),e(a)})).catch((e=>{a(e)}))})),A.value=s.NORMAL}catch(a){console.log(a),A.value=s.ERROR}})),(a,t)=>{const s=x(h("page-meta"),e),r=x(h("u-empty"),w),l=x(h("u-image"),j),u=v,y=b,O=x(h("u-button"),k),I=x(h("page-status"),R);return i(),o(g,null,[c(s,{"page-style":a.$theme.pageStyle},null,8,["page-style"]),d(" 页面状态 "),c(I,{status:A.value},{error:m((()=>[c(r,{text:"订单不存在",mode:"order"})])),default:m((()=>[c(y,{class:"payment-result p-[20rpx]"},{default:m((()=>[c(y,{class:"result bg-white p-[20rpx] rounded-md"},{default:m((()=>[c(y,{class:"flex flex-col items-center my-[40rpx]"},{default:m((()=>[d(" 支付状态图片 "),c(l,{class:"status-image",src:n(G).image,width:"100",height:"100",shape:"circle"},null,8,["src"]),d(" 支付状态文字 "),c(u,{class:"text-2xl font-medium mt-[20rpx]"},{default:m((()=>[p(f(n(G).text),1)])),_:1}),c(y,{class:"text-3xl font-medium mt-[20rpx]"},{default:m((()=>[p(" ¥ "+f(E.order.order_amount),1)])),_:1})])),_:1}),d(" 支付信息 "),c(y,{class:"result-info"},{default:m((()=>[c(y,{class:"result-info__item"},{default:m((()=>[c(u,null,{default:m((()=>[p("订单编号")])),_:1}),c(u,null,{default:m((()=>[p(f(E.order.order_sn),1)])),_:1})])),_:1}),c(y,{class:"result-info__item"},{default:m((()=>[c(u,null,{default:m((()=>[p("付款时间")])),_:1}),c(u,null,{default:m((()=>[p(f(E.order.pay_time),1)])),_:1})])),_:1}),c(y,{class:"result-info__item"},{default:m((()=>[c(u,null,{default:m((()=>[p("支付方式")])),_:1}),E.pay_status?(i(),_(u,{key:0},{default:m((()=>[p(f(E.order.pay_way||"-"),1)])),_:1})):(i(),_(u,{key:1},{default:m((()=>[p("未支付")])),_:1}))])),_:1})])),_:1})])),_:1}),c(y,{class:"mt-[40rpx]"},{default:m((()=>[c(y,{class:"mb-[20rpx]"},{default:m((()=>["recharge"==C.value.from?(i(),_(O,{key:0,type:"primary",shape:"circle","hover-class":"none",onClick:P},{default:m((()=>[p(" 继续充值 ")])),_:1})):d("v-if",!0)])),_:1}),c(y,{class:"mb-[20rpx]"},{default:m((()=>[c(O,{type:"primary",plain:"",shape:"circle","hover-class":"none",onClick:N},{default:m((()=>[p(" 返回首页 ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["status"])],64)}}}),[["__scopeId","data-v-29c665b1"]]);export{L as default};
