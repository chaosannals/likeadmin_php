import{C as k,w as j,D as z,F as Q,B as W,L as J,b as X,a as Y,M as Z,N as ee,d as te,e as ue,f as le}from"./element-plus.47dbc6c1.js";import{d as G,b as ae}from"./index.2a1d6957.js";import{d as V,r as C,o as m,c as v,a as p,V as T,a7 as D,Q as ne,U as I,u,T as se,W as c,a0 as oe,w as b,O as h,a8 as ie,P as de,M as F,j as P,b as $,S as O,s as me,_ as pe}from"./@vue.c3e77981.js";import{_ as re}from"./index.vue_vue_type_script_setup_true_lang.888f77b2.js";import{u as ce}from"./usePaging.d25ebf19.js";import{m as _e}from"./article.369647ed.js";import{I as Ee}from"./@element-plus.12c58ce2.js";import{P as fe}from"./index.7e8271e1.js";var S=(a=>(a.SHOP_PAGES="shop",a.APPTOOL="application_tool",a.OTHER_LINK="other_link",a))(S||{}),t=(a=>(a.SHOP_PAGES="shop",a.ARTICLE_LIST="article",a.CUSTOM_LINK="custom",a.MINI_PROGRAM="mini_program",a))(t||{});const he={class:"shop-pages h-[558px]"},ye={class:"link-list flex flex-wrap"},Ae=["onClick"],ve=V({__name:"shop-pages",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(a,{emit:y}){const r=y,f=C([{path:"/pages/index/index",name:"\u5546\u57CE\u9996\u9875",type:t.SHOP_PAGES,canTab:!0},{path:"/pages/news/news",name:"\u6587\u7AE0\u8D44\u8BAF",type:t.SHOP_PAGES,canTab:!0},{path:"/pages/user/user",name:"\u4E2A\u4EBA\u4E2D\u5FC3",type:t.SHOP_PAGES,canTab:!0},{path:"/pages/collection/collection",name:"\u6211\u7684\u6536\u85CF",type:t.SHOP_PAGES},{path:"/pages/customer_service/customer_service",name:"\u8054\u7CFB\u5BA2\u670D",type:t.SHOP_PAGES},{path:"/pages/user_set/user_set",name:"\u4E2A\u4EBA\u8BBE\u7F6E",type:t.SHOP_PAGES},{path:"/pages/as_us/as_us",name:"\u5173\u4E8E\u6211\u4EEC",type:t.SHOP_PAGES},{path:"/pages/user_data/user_data",name:"\u4E2A\u4EBA\u8D44\u6599",type:t.SHOP_PAGES},{path:"/pages/agreement/agreement",name:"\u9690\u79C1\u653F\u7B56",query:{type:"privacy"},type:t.SHOP_PAGES},{path:"/pages/agreement/agreement",name:"\u670D\u52A1\u534F\u8BAE",query:{type:"service"},type:t.SHOP_PAGES},{path:"/pages/search/search",name:"\u641C\u7D22",type:t.SHOP_PAGES},{path:"/packages/pages/user_wallet/user_wallet",name:"\u6211\u7684\u94B1\u5305",type:t.SHOP_PAGES}]),o=e=>{r("update:modelValue",e)};return(e,n)=>(m(),v("div",he,[p("div",ye,[(m(!0),v(T,null,D(u(f),(_,l)=>(m(),v("div",{class:ne(["link-item border border-br px-5 py-[5px] rounded-[3px] cursor-pointer mr-[10px] mb-[10px]",{"border-primary text-primary":a.modelValue.path==_.path&&a.modelValue.name==_.name}]),key:l,onClick:s=>o(_)},I(_.name),11,Ae))),128))])]))}}),Fe={class:"custom-link h-[528px] mt-[30px]"},xe={class:"flex flex-wrap items-center"},Se={class:"ml-4 flex-1 min-w-[100px]"},Pe=p("div",{class:"form-tips"}," \u8BF7\u586B\u5199\u5B8C\u6574\u7684\u5E26\u6709\u201Chttps://\u201D\u6216\u201Chttp://\u201D\u7684\u94FE\u63A5\u5730\u5740\uFF0C\u94FE\u63A5\u7684\u57DF\u540D\u5FC5\u987B\u5728\u5FAE\u4FE1\u516C\u4F17\u5E73\u53F0\u8BBE\u7F6E\u4E1A\u52A1\u57DF\u540D ",-1),Ve=V({__name:"custom-link",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(a,{emit:y}){const r=y,f=o=>{r("update:modelValue",{path:"/pages/webview/webview",query:{url:o},type:t.CUSTOM_LINK})};return(o,e)=>{var _;const n=k;return m(),v("div",Fe,[p("div",xe,[se(" \u81EA\u5B9A\u4E49\u94FE\u63A5 "),p("div",Se,[c(n,{"model-value":(_=a.modelValue.query)==null?void 0:_.url,placeholder:"\u8BF7\u8F93\u5165\u94FE\u63A5\u5730\u5740",onInput:f},null,8,["model-value"])])]),Pe])}}}),Ce={class:"article-list"},ge={class:"flex row-center"},Oe={class:"flex items-center"},Ie={class:"ml-4 overflow-hidden"},be={class:"text-base line-clamp-2"},ke={class:"flex justify-end mt-4"},we=V({__name:"article-list",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(a,{emit:y}){const r=a,f=y,o=C({path:"/pages/news_detail/news_detail",name:"",query:{},type:t.ARTICLE_LIST}),e=oe({name:"",is_show:1}),{pager:n,getLists:_,resetPage:l,resetParams:s}=ce({fetchFun:_e,params:e}),d=E=>E==Number(o.value.id),x=E=>{o.value={id:E.id,name:E.title,path:"/pages/news_detail/news_detail",query:{id:E.id},type:t.ARTICLE_LIST},f("update:modelValue",o.value)};return b(()=>r.modelValue,E=>{if(E.type!=t.ARTICLE_LIST)return o.value={id:"",name:"",path:"/pages/news_detail/news_detail",type:t.SHOP_PAGES};o.value=E},{immediate:!0}),_(),(E,i)=>{const w=k,g=j,B=z,H=Q,R=W,L=J,M=X,N=Y,q=Z,U=re,K=ee;return m(),v("div",Ce,[c(H,{ref:"formRef",model:u(e),inline:!0},{default:h(()=>[c(B,{label:"\u6587\u7AE0\u540D\u79F0"},{default:h(()=>[c(w,{class:"w-[280px]",modelValue:u(e).name,"onUpdate:modelValue":i[0]||(i[0]=A=>u(e).name=A),placeholder:"\u8BF7\u8F93\u5165",clearable:"",onKeyup:ie(u(l),["enter"])},null,8,["modelValue","onKeyup"]),c(g,{type:"primary",class:"ml-4",icon:u(Ee),onClick:u(l)},null,8,["icon","onClick"])]),_:1})]),_:1},8,["model"]),de((m(),F(q,{size:"large",data:u(n).lists,height:"460px",onRowClick:x},{default:h(()=>[c(L,{label:"\u9009\u62E9","min-width":"50"},{default:h(({row:A})=>[p("div",ge,[c(R,{"model-value":d(A.id),size:"large",onChange:Qe=>x(A)},null,8,["model-value","onChange"])])]),_:1}),c(L,{label:"\u6587\u7AE0\u540D\u79F0","min-width":"180"},{default:h(({row:A})=>[p("div",Oe,[c(M,{fit:"cover",src:A.image,class:"flex-none w-[58px] h-[58px]"},null,8,["src"]),p("div",Ie,[c(N,{effect:"dark",content:A.title,placement:"top"},{default:h(()=>[p("div",be,I(A.title),1)]),_:2},1032,["content"])])])]),_:1}),c(L,{label:"\u521B\u5EFA\u65F6\u95F4",prop:"create_time","min-width":"140"})]),_:1},8,["data"])),[[K,u(n).loading]]),p("div",ke,[c(U,{modelValue:u(n),"onUpdate:modelValue":i[1]||(i[1]=A=>P(n)?n.value=A:null),onChange:u(_)},null,8,["modelValue","onChange"])])])}}});const Be=G(we,[["__scopeId","data-v-bc04270d"]]),Le={class:"mini-program h-[558px]"},Te=p("div",{class:"text-xl font-medium"}," \u5C0F\u7A0B\u5E8F\u8DF3\u8F6C\u5C0F\u7A0B\u5E8F ",-1),De={class:"flex flex-wrap items-center mt-8"},Ge=p("div",{class:"w-[86px]"}," \u5C0F\u7A0B\u5E8FAPPID ",-1),$e={class:"ml-4 flex-1 min-w-[100px]"},He={class:"flex flex-wrap items-center mt-4"},Re=p("div",{class:"w-[86px]"}," \u5C0F\u7A0B\u5E8F\u8DEF\u5F84 ",-1),Me={class:"ml-4 flex-1 min-w-[100px]"},Ne=V({__name:"mini-program",props:{modelValue:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(a,{emit:y}){const r=a,f=y,o=(e,n)=>{f("update:modelValue",{...r.modelValue,name:"\u5C0F\u7A0B\u5E8F\u8DF3\u8F6C",query:{...r.modelValue.query,[e]:n},type:t.MINI_PROGRAM})};return(e,n)=>{var l,s;const _=k;return m(),v("div",Le,[Te,p("div",De,[Ge,p("div",$e,[c(_,{class:"max-w-[320px]","model-value":(l=a.modelValue.query)==null?void 0:l.appid,placeholder:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8Fappid",onInput:n[0]||(n[0]=d=>o("appid",d))},null,8,["model-value"])])]),p("div",He,[Re,p("div",Me,[c(_,{class:"max-w-[320px]","model-value":(s=a.modelValue.query)==null?void 0:s.url,placeholder:"\u8BF7\u8F93\u5165\u5C0F\u7A0B\u5E8F\u8DEF\u5F84\u94FE\u63A5\u5730\u5740",onInput:n[1]||(n[1]=d=>o("url",d))},null,8,["model-value"])])])])}}}),qe={class:"link flex"},Ue={class:"flex-1 pl-4"},Ke=V({__name:"index",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(a,{emit:y}){const r=a,f=y,o=C([{name:"\u5546\u57CE\u9875\u9762",type:S.SHOP_PAGES,children:[{name:"\u57FA\u7840\u9875\u9762",type:t.SHOP_PAGES,link:{}}]},{name:"\u5E94\u7528\u5DE5\u5177",type:S.APPTOOL,children:[{name:"\u6587\u7AE0\u8D44\u8BAF",type:t.ARTICLE_LIST,link:{}}]},{name:"\u5176\u4ED6",type:S.OTHER_LINK,children:[{name:"\u81EA\u5B9A\u4E49\u94FE\u63A5",type:t.CUSTOM_LINK,link:{}},{name:"\u5C0F\u7A0B\u5E8F\u8DF3\u8F6C",type:t.MINI_PROGRAM,link:{}}]}]),e=$({get(){let l={};return o.value.forEach(s=>{const d=s.children.find(x=>x.type==n.value);d&&(l=d)}),l.link},set(l){o.value.forEach(s=>{s.children.forEach(d=>{d.type==n.value&&(d.link=l)})})}}),n=C(t.SHOP_PAGES),_=l=>{n.value=l};return b(e,l=>{!l.type||f("update:modelValue",l)},{deep:!0}),b(()=>r.modelValue,l=>{n.value=l.type,e.value=l},{immediate:!0}),(l,s)=>{const d=te,x=ue,E=le;return m(),v("div",qe,[c(E,{"default-active":u(n),class:"w-[160px] min-h-[350px] link-menu","default-openeds":[u(S).SHOP_PAGES,u(S).APPTOOL,u(S).OTHER_LINK],onSelect:_},{default:h(()=>[(m(!0),v(T,null,D(u(o),(i,w)=>(m(),F(x,{index:i.type,key:w},{title:h(()=>[p("span",null,I(i.name),1)]),default:h(()=>[(m(!0),v(T,null,D(i.children,(g,B)=>(m(),F(d,{index:g.type,key:B,style:{"min-width":"160px"}},{default:h(()=>[p("span",null,I(g.name),1)]),_:2},1032,["index"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["default-active","default-openeds"]),p("div",Ue,[u(t).SHOP_PAGES==u(n)?(m(),F(ve,{key:0,modelValue:u(e),"onUpdate:modelValue":s[0]||(s[0]=i=>P(e)?e.value=i:null)},null,8,["modelValue"])):O("",!0),u(t).ARTICLE_LIST==u(n)?(m(),F(Be,{key:1,modelValue:u(e),"onUpdate:modelValue":s[1]||(s[1]=i=>P(e)?e.value=i:null)},null,8,["modelValue"])):O("",!0),u(t).CUSTOM_LINK==u(n)?(m(),F(Ve,{key:2,modelValue:u(e),"onUpdate:modelValue":s[2]||(s[2]=i=>P(e)?e.value=i:null)},null,8,["modelValue"])):O("",!0),u(t).MINI_PROGRAM==u(n)?(m(),F(Ne,{key:3,modelValue:u(e),"onUpdate:modelValue":s[3]||(s[3]=i=>P(e)?e.value=i:null)},null,8,["modelValue"])):O("",!0)])])}}});const je=G(Ke,[["__scopeId","data-v-c67804a4"]]),ze=V({__name:"picker",props:{modelValue:{type:Object},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(a,{emit:y}){const r=a,f=y,o=me(),e=C({path:"",type:t.SHOP_PAGES}),n=()=>{f("update:modelValue",e.value)},_=$(()=>{var l,s,d;switch(console.log(r.modelValue),(l=r.modelValue)==null?void 0:l.type){case t.SHOP_PAGES:return r.modelValue.name;case t.ARTICLE_LIST:return r.modelValue.name;case t.CUSTOM_LINK:return(s=r.modelValue.query)==null?void 0:s.url;default:return(d=r.modelValue)==null?void 0:d.name}});return b(()=>r.modelValue,l=>{l!=null&&l.type&&(e.value=l)},{immediate:!0}),(l,s)=>{const d=ae,x=k;return m(),v("div",{class:"link-picker flex-1",onClick:s[2]||(s[2]=E=>{var i;return!a.disabled&&((i=u(o))==null?void 0:i.open())})},[c(x,{"model-value":u(_),placeholder:"\u8BF7\u9009\u62E9\u94FE\u63A5",readonly:"",disabled:a.disabled},{suffix:h(()=>{var E;return[(E=a.modelValue)!=null&&E.path?(m(),F(d,{key:1,name:"el-icon-Close",onClick:s[0]||(s[0]=pe(i=>!a.disabled&&f("update:modelValue",{}),["stop"]))})):(m(),F(d,{key:0,name:"el-icon-ArrowRight"}))]}),_:1},8,["model-value","disabled"]),c(fe,{ref_key:"popupRef",ref:o,width:"1050px",title:"\u94FE\u63A5\u9009\u62E9",onConfirm:n},{default:h(()=>[c(je,{modelValue:u(e),"onUpdate:modelValue":s[1]||(s[1]=E=>P(e)?e.value=E:null)},null,8,["modelValue"])]),_:1},512)])}}});const lt=G(ze,[["__scopeId","data-v-e275b5a8"]]);export{lt as _};
