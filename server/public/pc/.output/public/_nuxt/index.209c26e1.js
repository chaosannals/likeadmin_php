import{_ as v}from"./items.vue.af98c98e.js";import{u as q}from"./asyncData.82ff1658.js";import{a as C,a8 as z,G as l,f as E,w as A,H as B,a9 as D,o as a,h as o,i as m,u as e,t as d,Q as $,p as j,$ as N,a0 as S,j as _,c as V}from"./entry.606e70b4.js";import{e as b,a as I}from"./empty_news.38309a5b.js";import{g as L}from"./news.fce18aa1.js";import{E as P}from"./index.ed2c58ed.js";import"./nuxt-link.f0817a89.js";import"./debounce.bf6a5952.js";import"./index.ce5e28ad.js";import"./index.ff1be561.js";import"./isUndefined.cd892975.js";const U={class:"min-h-full flex flex-col"},F={class:"text-4xl mb-5"},G={key:0},H={key:1},Q={key:0,class:"bg-white px-5 rounded overflow-hidden"},R={key:0,class:"pt-5 text-tx-secondary"},T={class:"py-4 flex justify-end"},Y={key:1,class:"flex-1 flex justify-center items-center"},ie=C({__name:"index",async setup(J){let r,u;const s=z(),y=l(()=>s.params.source),g=l(()=>s.query.keywords||""),f=l(()=>s.query.cid||""),i=E({page_no:1,page_size:15,keyword:g,cid:f,sort:y}),{data:n,refresh:p,pending:h}=([r,u]=A(()=>q(()=>L(i),{initialCache:!1},"$ewxCUYuASd")),r=await r,u(),r),k=l(()=>{switch(s.params.source){case"hot":return"热门资讯";case"new":return" 最新资讯";default:return"全部资讯"}});return B([()=>s.query.keywords,()=>s.query.cid],()=>{p()}),(K,c)=>{const w=v,x=D("loading");return a(),o("div",U,[m("div",F,[e(s).query.keywords?(a(),o("span",G,' 查找"'+d(e(s).query.keywords)+'" ',1)):(a(),o("span",H,d(e(s).query.name||e(k)),1))]),$((a(),o("div",null,[e(n).lists.length?(a(),o("div",Q,[e(s).query.keywords?(a(),o("div",R," 为您找到相关结果 "+d(e(n).count)+"个 ",1)):j("",!0),(a(!0),o(N,null,S(e(n).lists,t=>(a(),V(w,{key:t.id,id:t.id,title:t.title,desc:t.desc,click:t.click,author:t.author,"create-time":t.create_time,image:t.image,"only-title":!1},null,8,["id","title","desc","click","author","create-time","image"]))),128)),m("div",T,[_(e(P),{"current-page":e(i).page_no,"onUpdate:currentPage":c[0]||(c[0]=t=>e(i).page_no=t),total:e(n).count,"page-size":e(i).page_size,"hide-on-single-page":"",onCurrentChange:c[1]||(c[1]=t=>e(p)())},null,8,["current-page","total","page-size"])])])):(a(),o("div",Y,[_(e(I),{image:e(b),description:"暂无资讯","image-size":250},null,8,["image"])]))])),[[x,e(h)]])])}}});export{ie as default};
