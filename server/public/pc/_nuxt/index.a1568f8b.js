import{_ as v}from"./items.vue.12e19e66.js";import{a as q,a8 as C,G as d,f as z,w as E,H as A,o as a,h as o,i as m,u as e,t as l,Q as B,p as $,$ as j,a0 as D,j as _,a9 as L,c as N}from"./entry.32a45fa5.js";import{u as S}from"./asyncData.0504d030.js";import{e as V,a as b}from"./empty_news.626a5191.js";import{g as I}from"./news.fce18aa1.js";import{E as P}from"./index.c2df460f.js";import"./nuxt-link.6231fccb.js";import"./debounce.09d872f8.js";import"./index.960e90b7.js";import"./index.74fa36b1.js";import"./isUndefined.5ca7fbda.js";const U={class:"min-h-full flex flex-col"},F={class:"text-4xl mb-5"},G={key:0},H={key:1},Q={key:0,class:"bg-white px-5 rounded overflow-hidden"},R={key:0,class:"pt-5 text-tx-secondary"},T={class:"py-4 flex justify-end"},Y={key:1,class:"flex-1 flex justify-center items-center"},ne=q({__name:"index",async setup(J){let r,u;const s=C(),y=d(()=>s.params.source),g=d(()=>s.query.keywords||""),f=d(()=>s.query.cid||""),n=z({page_no:1,page_size:15,keyword:g,cid:f,sort:y}),{data:i,refresh:p,pending:h}=([r,u]=E(()=>S(()=>I(n),{initialCache:!1},"$ewxCUYuASd")),r=await r,u(),r),k=d(()=>{switch(s.params.source){case"hot":return"热门资讯";case"new":return" 最新资讯";default:return"全部资讯"}});return A([()=>s.query.keywords,()=>s.query.cid],()=>{p()}),(K,c)=>{const w=v,x=L;return a(),o("div",U,[m("div",F,[e(s).query.keywords?(a(),o("span",G,' 查找"'+l(e(s).query.keywords)+'" ',1)):(a(),o("span",H,l(e(s).query.name||e(k)),1))]),B((a(),o("div",null,[e(i).lists.length?(a(),o("div",Q,[e(s).query.keywords?(a(),o("div",R," 为您找到相关结果 "+l(e(i).count)+"个 ",1)):$("",!0),(a(!0),o(j,null,D(e(i).lists,t=>(a(),N(w,{key:t.id,id:t.id,title:t.title,desc:t.desc,click:t.click,author:t.author,"create-time":t.create_time,image:t.image,"only-title":!1},null,8,["id","title","desc","click","author","create-time","image"]))),128)),m("div",T,[_(e(P),{"current-page":e(n).page_no,"onUpdate:currentPage":c[0]||(c[0]=t=>e(n).page_no=t),total:e(i).count,"page-size":e(n).page_size,"hide-on-single-page":"",onCurrentChange:c[1]||(c[1]=t=>e(p)())},null,8,["current-page","total","page-size"])])])):(a(),o("div",Y,[_(e(b),{image:e(V),description:"暂无资讯","image-size":250},null,8,["image"])]))])),[[x,e(h)]])])}}});export{ne as default};
